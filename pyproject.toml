[build-system]
requires = ["setuptools", "setuptools_scm"]
build-backend = "setuptools.build_meta"

[project]
name = "talkpipe"
authors = [
    {name = "Travis Bauer", email = "tlbauer@sandia.gov"},
]
maintainers = [
    {name = "Travis Bauer", email = "tlbauer@sandia.gov"}
]
description = "Python internal and external DSL for writing generative AI analytics"
readme = "README.md"
requires-python = ">=3.11"
keywords = ["ai"]
license = "Apache-2.0"
classifiers = [
    "Development Status :: 3 - Alpha",
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]
dependencies = [
    'prompt_toolkit',
    'parsy',
    'pydantic',
    'ollama',
    'requests',
    'numpy',
    'python-docx',
    'pandas',
    'feedparser',
    'readability-lxml',
    'lxml',
    'lxml_html_clean',
    'openai',
    'fastapi[standard]',
    'ipywidgets',
    'pymongo',
    'umap-learn',
    'scikit-learn',
    'cryptography',
    'uvicorn',
    'whoosh'
]
dynamic = ["version"]

[project.optional-dependencies]
dev = [
    'pytest',
    'pytest-mock',
    'pytest-cov',
    'mongomock'
]

[project.scripts]
chatterlang_workbench = "talkpipe.app.chatterlang_workbench:main"
chatterlang_script = "talkpipe.app.chatterlang_script:main"
chatterlang_reference_generator = "talkpipe.app.chatterlang_reference_generator:go"
talkpipe_genkeys = "talkpipe.operations.crypto:generate_keys_cli"
chatterlang_serve = "talkpipe.app.chatterlang_serve:go"
chatterlang_reference_browser = "talkpipe.app.chatterlang_reference_browser:main"

[tool.setuptools.packages.find]
where = ["src"]

# Add package data to include .ico files
[tool.setuptools.package-data]
"*" = ["*.ico"]
"talkpipe.app.static" = ["*.html", "*.txt"]

[tool.setuptools_scm]
#use defaults

[project.urls]
Homepage = "https://github.com/sandialabs/talkpipe"
